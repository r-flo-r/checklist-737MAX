<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>737 MAX 8 Checklist</title>
<style>
  :root {
    --bg: #121212;
    --card: #1e1e1e;
    --muted: #aaa;
    --line: #2b2b2b;
    --text: #f0f0f0;
    --accent: #2e8bff;
  }

  body {
    margin: 0;
    font-family: Inter, Arial, Helvetica, sans-serif;
    background: var(--bg);
    color: var(--text);
    padding: 20px;
    -webkit-font-smoothing:antialiased;
  }

  .container {
    max-width: 980px;
    margin: 0 auto;
    background: var(--card);
    padding: 20px;
    border-radius: 10px;
    box-shadow: 0 8px 30px rgba(0,0,0,0.6);
  }

  .header {
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap: 12px;
    margin-bottom: 14px;
  }

  h1 {
    margin: 0;
    font-size: 1.4rem;
    letter-spacing: 0.2px;
  }

  #resetBtn {
    background: transparent;
    border: 1px solid #444;
    color: var(--text);
    padding: 8px 12px;
    border-radius: 8px;
    cursor: pointer;
  }
  #resetBtn:hover { background: rgba(255,255,255,0.03); border-color:#666; }

  h2 {
    margin: 18px 0 8px 0;
    font-size: 1.15rem;
    color: var(--text);
  }

  .checklist-section {
    margin-bottom: 12px;
  }

  .checklist-item {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 6px 0;
    border-bottom: 1px solid var(--line);
    flex-wrap: nowrap;
  }

  .checklist-item input[type="checkbox"] {
    width: 32px;
    height: 32px;
    flex-shrink: 0;
    cursor: pointer;
  }

  .checklist-item label {
    flex: 1;
    cursor: pointer;
  }

  .checklist-action {
    color: var(--muted);
    white-space: nowrap;
    margin-left: auto;
    text-align: right;
  }

  .subsection {
    text-align: center;
    font-style: italic;
    color: #cfcfcf;
    padding: 6px 0;
    border-bottom: 1px solid var(--line);
  }

  @media (max-width: 480px) {
    .checklist-item {
      gap: 8px;
      font-size: 0.95rem;
    }
    .checklist-item input[type="checkbox"] {
      width: 28px;
      height: 28px;
    }
    .checklist-action {
      font-size: 0.9rem;
    }
  }
</style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>737 MAX 8 Checklist</h1>
      <button id="resetBtn" type="button">Reset</button>
    </div>
    <div id="checklist"></div>
  </div>

<script>
(function(){
  // --- Daten: deine vollständige Checklist ---
  const checklistData = [
    {
      section: "PREFLIGHT",
      items: [
        ["PARKING BRAKE","SET"],
        ["BATTERY SWITCH","ON AND COVERED"],
        ["GROUND POWER","CONNECTED AND ON"],
        ["IRS SELECTOR (L & R)","NAV"],
        ["CABIN/UTILITY","ON"],
        ["IFE PASS SEAT POWER","ON"],
        ["EMERGENCY LIGHTS","ARMED"],
        ["POSITION LIGHTS","STEADY"],
        ["WINDOWS HEAT","ON"],
        ["TRIM AIR","ON"],
        ["RECIRC FAN","AUTO"],
        ["PACKS (L & R)","AUTO"],
        ["ISOLATION VALVE","OPEN"],
        ["PRESSURIZZATION PANEL","AUTO"],
        ["FUEL PUMP FWD 1","ON"],
        ["ALTIMETERS","SET"],
        ["TRANSPONDER","SET ALT OFF"],
        ["FLIGHT DIRECTORS","ON"],
        ["FMC","SETUP"],
        ["MCP","V2 - HDG - ALTITUDE"],
        ["LNAV & VNAV","ARMED"],
        ["APU","ON – START - ON"],
        ["APU GEN","ON"],
        ["APU BLEED","ON"]
      ]
    },
    {
      section: "BEFORE START",
      items: [
        ["GROUND POWER","DISCONNECTED AND OFF"],
        ["FLIGHT DECK DOORS","CLOSED AND LOCKED"],
        ["YAW DUMPER","ON"],
        ["PROBE HEAT","ON"],
        ["HYD PUMPS","ON"],
        ["FUEL PUMPS","ON"],
        ["PASSENGER SIGNS","ON/AUTO"],
        ["ANTI COLLISION LIGHTS","ON"],
        ["PACKS (L & R)","OFF"],
        ["ENGINES START","START N2 THEN N1"]
      ]
    },
    {
      section: "BEFORE TAXI",
      items: [
        ["ENGINE GEN (1 & 2)","ON"],
        ["ANTI-ICE","AS REQUIRED"],
        ["AUTOBRAKE","RTO"],
        ["FLAPS","SET"],
        ["TRIM","SET"],
        ["APU","OFF"],
        ["APU BLEED","OFF"],
        ["PACKS (L & R)","ON"],
        ["ISOLATION VALVE","AUTO"],
        ["FLIGHT CONTROLS","CHECKED"],
        ["TAXI LIGHTS","ON"],
        ["RWY TURN-OFF LIGHTS","AS REQUIRED"]
      ]
    },
    {
      section: "BEFORE TAKEOFF",
      items: [
        ["PARKING BRAKE","SET"],
        ["AUTOTHROTTLE","ARM"],
        ["TAKE OFF DATA ( V1 VR V2 )","CHECK"],
        ["SET TERRAIN & WEATHER DISPLAY","AS NEEDED"],
        ["LANDING LIGHTS","ON"],
        ["POSITION LIGHTS","STROBE & STEADY"],
        ["TAXI LIGHTS","OFF"],
        ["TRANSPONDER","TA/RA"],
        ["CLOCK","START"]
      ]
    },
    {
      section: "AFTER TAKEOFF",
      items: [
        ["POSITIVE RATE OF CLIMB","GEAR UP"],
        ["AUTOBRAKE","OFF"],
        ["RWY TURN-OFF LIGHTS","OFF"],
        ["FLAPS","RETRACT ON SCHEDULE"],
        ["AUTOPILOT","ENGAGE"]
      ]
    },
    {
      section: "CLIMB",
      items: [
        ["ALTIMETER","SET STD"],
        ["-Passing 10000 ft-",""],
        ["LANDING LIGHTS","OFF"],
        ["SEATBELTS SIGN","OFF"]
      ]
    },
    {
      section: "DESCEND",
      items: [
        ["ANTI-ICE","AS REQUIRED"],
        ["RECALL","CHECK"],
        ["LANDING ALT","SET"],
        ["APPROACH BRIEFING","COMPLETE"],
        ["-Passing TL-",""],
        ["ALTIMETER","LOCAL QNH"],
        ["-Below 10000 ft-",""],
        ["LANDING LIGHTS","ON"],
        ["SEATBELTS SIGN","ON"]
      ]
    },
    {
      section: "APPROACH",
      items: [
        ["ALTIMETER","CHECK"],
        ["DH/DA","SET"],
        ["APPROACH SPEED (FMC)","SET & CHECK"],
        ["APPROACH DATA (ILS AND COURSE)","SET"],
        ["APPROACH BUTTON","ARM"],
        ["SPEEDBRAKE","ARM"],
        ["AUTOBRAKE","AS REQUIRED"],
        ["FLAPS","SET"]
      ]
    },
    {
      section: "LANDING",
      items: [
        ["GO AROUND ALTITUDE","SET"],
        ["LANDING GEAR","DOWN"],
        ["LANDING FLAPS","SET"]
      ]
    },
    {
      section: "AFTER LANDING",
      items: [
        ["AUTOBRAKE","OFF"],
        ["FLAPS","RETRACT"],
        ["SPEEDBRAKES","DOWN"],
        ["LANDING LIGHTS","OFF"],
        ["STROBE LIGHTS","STEADY"],
        ["TAXI LIGHTS","ON"],
        ["TRANSPONDER","ALT OFF"],
        ["APU","AS REQ"],
        ["APU GEN","ON"],
        ["TERRAIN & WEATHER DISPLAY","OFF"],
        ["CLOCK","STOP"]
      ]
    },
    {
      section: "PARKING - SHUTDOWN",
      items: [
        ["PARKING BRAKE","SET"],
        ["TAXI LIGHTS","OFF"],
        ["CHOCKS","SET"],
        ["EXTERNAL POWER","CONNECTED AND ON"],
        ["APU","OFF"],
        ["FUEL CONTROL SWITCHES","CUTOFF"],
        ["ANTI COLLISION LIGHTS","OFF"],
        ["FLIGHT DIRECTORS","OFF"],
        ["PASSENGER SIGNS","OFF"],
        ["YAW DUMPER","OFF"],
        ["HYDRAULIC PUMPS","OFF"],
        ["FUEL PUMPS","OFF"],
        ["PROBE HEAT","OFF"],
        ["DOORS","OPEN"]
      ]
    },
    {
      section: "SECURE AIRCRAFT",
      items: [
        ["IRS SELECTOR (L & R)","OFF"],
        ["EMERGENCY LIGHTS","OFF"],
        ["TRIM AIR","OFF"],
        ["RECIRC FAN","OFF"],
        ["PACKS (L & R)","OFF"],
        ["ISOLATION VALVE","OPEN"],
        ["LOGO LIGHTS","OFF"],
        ["POSITION LIGHTS","OFF"],
        ["WINDOWS HEAT","OFF"],
        ["CABIN/UTILITY","OFF"],
        ["IFE PASS SEAT POWER","OFF"],
        ["BATTERY SWITCH","OFF"]
      ]
    }
  ];

  const checklistEl = document.getElementById('checklist');
  const prefix = 'b737max8_';

  function isSubsection(text){
    return /^\s*-.*-\s*$/.test(text);
  }
  function trimHyphens(text){
    return text.replace(/^\s*-+\s*/, '').replace(/\s*-+\s*$/, '');
  }

  function buildChecklist() {
    checklistEl.innerHTML = '';
    checklistData.forEach((section, sIdx) => {
      const secDiv = document.createElement('div');
      secDiv.className = 'checklist-section';
      const h2 = document.createElement('h2');
      h2.textContent = section.section;
      secDiv.appendChild(h2);

      section.items.forEach((item, i) => {
        if (isSubsection(item[0])) {
          const sub = document.createElement('div');
          sub.className = 'subsection';
          sub.textContent = trimHyphens(item[0]);
          secDiv.appendChild(sub);
        } else {
          const row = document.createElement('div');
          row.className = 'checklist-item';

          const cb = document.createElement('input');
          cb.type = 'checkbox';
          const key = prefix + sIdx + '_' + i;
          cb.id = key;
          try {
            if (localStorage.getItem(key)==='1') cb.checked = true;
          } catch(e){}

          cb.addEventListener('change', () => {
            try {
              if (cb.checked) localStorage.setItem(key,'1');
              else localStorage.removeItem(key);
            } catch(e){}
          });

          const lbl = document.createElement('label');
          lbl.htmlFor = cb.id;
          lbl.textContent = item[0];

          const act = document.createElement('div');
          act.className = 'checklist-action';
          act.textContent = item[1] || '';

          row.appendChild(cb);
          row.appendChild(lbl);
          row.appendChild(act);
          secDiv.appendChild(row);
        }
      });

      checklistEl.appendChild(secDiv);
    });
  }

  document.getElementById('resetBtn').addEventListener('click', () => {
    if (!confirm('Reset all items?')) return;
    checklistData.forEach((section, sIdx) => {
      section.items.forEach((_, i) => {
        try { localStorage.removeItem(prefix + sIdx + '_' + i); } catch(e){}
      });
    });
    checklistEl.querySelectorAll('input[type="checkbox"]').forEach(cb => cb.checked=false);
  });

  buildChecklist();
})();
</script>
</body>
</html>
