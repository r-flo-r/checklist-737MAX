<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>iFly 737 MAX 8 Checkliste</title>
<style>
  body { font-family: Arial, sans-serif; background:#f0f2f5; padding:20px; }
  .container { max-width: 700px; margin: 0 auto; background:#fff; padding:20px; border-radius:10px; box-shadow:0 6px 18px rgba(0,0,0,0.1);}
  h1 { font-size: 1.5rem; margin-bottom: 10px; }
  ul { list-style:none; padding:0; }
  li { display:flex; align-items:center; padding:8px 0; border-bottom:1px solid #eee; }
  input[type="checkbox"] { margin-right:12px; width:18px; height:18px; }
  button { margin-top:15px; padding:8px 12px; border-radius:8px; border:1px solid #ccc; background:#f9f9f9; cursor:pointer; }
</style>
</head>
<body>
  <div class="container">
    <h1>iFly 737 MAX 8 Pre-Flight Checkliste</h1>
    <ul id="checklist"></ul>
    <button id="resetBtn">Zurücksetzen</button>
  </div>

<script>
(function(){
  const checklistItems = [
    "Cockpit-Bereich sauber & alle Schalter in Neutralstellung",
    "Elektrische Systeme prüfen",
    "Avionik-Systeme einschalten",
    "FMS konfigurieren",
    "Hydrauliksystem überprüfen",
    "Triebwerks-Startcheck durchführen",
    "Flugsteuerungen überprüfen",
    "Bremsen & Reifen kontrollieren",
    "Sicherheitsgurte & Notausrüstung prüfen",
    "Kommunikationssystem prüfen"
  ];

  const checklistEl = document.getElementById('checklist');
  const prefix = 'ifly737max8_';

  function buildChecklist() {
    checklistEl.innerHTML = '';
    checklistItems.forEach((item, i) => {
      const li = document.createElement('li');
      const cb = document.createElement('input');
      cb.type = 'checkbox';
      cb.dataset.idx = i;
      const saved = localStorage.getItem(prefix + i);
      if (saved === '1') cb.checked = true;

      cb.addEventListener('change', () => {
        if (cb.checked) localStorage.setItem(prefix + i, '1');
        else localStorage.removeItem(prefix + i);
      });

      const label = document.createElement('label');
      label.appendChild(cb);
      label.appendChild(document.createTextNode(' ' + item));
      li.appendChild(label);
      checklistEl.appendChild(li);
    });
  }

  document.getElementById('resetBtn').addEventListener('click', () => {
    checklistItems.forEach((_, i) => localStorage.removeItem(prefix + i));
    checklistEl.querySelectorAll('input[type="checkbox"]').forEach(cb => cb.checked = false);
  });

  if (document.readyState !== 'loading') buildChecklist();
  else document.addEventListener('DOMContentLoaded', buildChecklist);

})();
</script>
</body>
</html>
