<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>737 MAX 8 Checklist</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background: #121212;
    color: #f0f0f0;
    padding: 20px;
  }
  .container {
    max-width: 900px;
    margin: 0 auto;
    background: #1e1e1e;
    padding: 20px;
    border-radius: 10px;
    box-shadow: 0 6px 18px rgba(0,0,0,0.5);
  }
  .header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 15px;
  }
  h1 { margin:0; font-size:1.6rem; }
  h2 { margin-top:20px; margin-bottom:10px; font-size:1.3rem; }
  h3 { margin-top:15px; margin-bottom:5px; font-size:1.1rem; color:#ccc; }
  button {
    padding: 6px 12px;
    border-radius: 8px;
    border:1px solid #888;
    background:#333;
    color:#f0f0f0;
    cursor:pointer;
  }
  button:hover { background:#444; }
  table { width: 100%; border-collapse: collapse; margin-bottom: 10px; }
  th, td { text-align:left; padding:6px; }
  th { border-bottom:1px solid #555; }
  tr { border-bottom:1px solid #333; }
  input[type="checkbox"] {
    width:35px; height:35px; cursor:pointer;
    margin-right:10px;
  }
</style>
</head>
<body>
<div class="container">
  <div class="header">
    <h1>iFly 737 MAX 8 Checklist</h1>
    <button id="resetBtn">Reset</button>
  </div>
  <div id="checklist"></div>
</div>

<script>
(function(){
  // Die Checkliste als JS-Objekt
  const checklistData = [
    {
      section: "PREFLIGHT",
      items: [
        ["PARKING BRAKE","SET"],
        ["BATTERY SWITCH","ON AND COVERED"],
        ["GROUND POWER","CONNECTED AND ON"],
        ["IRS SELECTOR (L & R)","NAV"],
        ["CABIN/UTILITY","ON"],
        ["IFE PASS SEAT POWER","ON"],
        ["EMERGENCY LIGHTS","ARMED"],
        ["POSITION LIGHTS","STEADY"],
        ["WINDOWS HEAT","ON"],
        ["TRIM AIR","ON"],
        ["RECIRC FAN","AUTO"],
        ["PACKS (L & R)","AUTO"],
        ["ISOLATION VALVE","OPEN"],
        ["PRESSURIZZATION PANEL","AUTO"],
        ["FUEL PUMP FWD 1","ON"],
        ["ALTIMETERS","SET"],
        ["TRANSPONDER","SET ALT OFF"],
        ["FLIGHT DIRECTORS","ON"],
        ["FMC","SETUP"],
        ["MCP","V2 - HDG - ALTITUDE"],
        ["LNAV & VNAV","ARMED"],
        ["APU","ON â€“ START - ON"],
        ["APU GEN","ON"],
        ["APU BLEED","ON"]
      ]
    },
    {
      section: "BEFORE START",
      items: [
        ["GROUND POWER","DISCONNECTED AND OFF"],
        ["FLIGHT DECK DOORS","CLOSED AND LOCKED"],
        ["YAW DUMPER","ON"],
        ["PROBE HEAT","ON"],
        ["HYD PUMPS","ON"],
        ["FUEL PUMPS","ON"],
        ["PASSENGER SIGNS","ON/AUTO"],
        ["ANTI COLLISION LIGHTS","ON"],
        ["PACKS (L & R)","OFF"],
        ["ENGINES START","START N2 THEN N1"]
      ]
    },
    {
      section: "BEFORE TAXI",
      items: [
        ["ENGINE GEN (1 & 2)","ON"],
        ["ANTI-ICE","AS REQUIRED"],
        ["AUTOBRAKE","RTO"],
        ["FLAPS","SET"],
        ["TRIM","SET"],
        ["APU","OFF"],
        ["APU BLEED","OFF"],
        ["PACKS (L & R)","ON"],
        ["ISOLATION VALVE","AUTO"],
        ["FLIGHT CONTROLS","CHECKED"],
        ["TAXI LIGHTS","ON"],
        ["RWY TURN-OFF LIGHTS","AS REQUIRED"]
      ]
    },
    {
      section: "BEFORE TAKEOFF",
      items: [
        ["PARKING BRAKE","SET"],
        ["AUTOTHROTTLE","ARM"],
        ["TAKE OFF DATA ( V1 VR V2 )","CHECK"],
        ["SET TERRAIN & WEATHER DISPLAY","AS NEEDED"],
        ["LANDING LIGHTS","ON"],
        ["POSITION LIGHTS","STROBE & STEADY"],
        ["TAXY LIGHTS","OFF"],
        ["TRANSPONDER","TA/RA"],
        ["CLOCK","START"]
      ]
    },
    {
      section: "AFTER TAKEOFF",
      items: [
        ["POSITIVE RATE OF CLIMB","GEAR UP"],
        ["AUTOBRAKE","OFF"],
        ["RWY TURN-OFF LIGHTS","OFF"],
        ["FLAPS","RETRACT ON SCHEDULE"],
        ["AUTOPILOT","ENGAGE"]
      ]
    },
    {
      section: "CLIMB",
      items: [
        ["ALTIMETER","SET STD"],
        ["Landing Lights","OFF"],
        ["SEATBELTS SIGN","OFF"]
      ]
    },
    {
      section: "DESCEND",
      items: [
        ["ANTI-ICE","AS REQUIRED"],
        ["RECALL","CHECK"],
        ["LANDING ALT","SET"],
        ["APPROACH BRIEFING","COMPLETE"],
        ["ALTIMETER","LOCAL QNH"],
        ["LANDING LIGHTS","ON"],
        ["SEATBELTS SIGN","ON"]
      ]
    },
    {
      section: "APPROACH",
      items: [
        ["ALTIMETER","CHECK"],
        ["DH/DA","SET"],
        ["APPROACH SPEED (FMC)","SET & CHECK"],
        ["APPROACH DATA (ILS AND COURSE)","SET"],
        ["APPROACH BUTTON","ARM"],
        ["SPEEDBRAKE","ARM"],
        ["AUTOBRAKE","AS REQUIRED"],
        ["FLAPS","SET"]
      ]
    },
    {
      section: "LANDING",
      items: [
        ["GO AROUND ALTITUDE","SET"],
        ["LANDING GEAR","DOWN"],
        ["LANDING FLAPS","SET"]
      ]
    },
    {
      section: "AFTER LANDING",
      items: [
        ["AUTOBRAKE","OFF"],
        ["FLAPS","RETRACT"],
        ["SPEEDBRAKES","DOWN"],
        ["LANDING LIGHTS","OFF"],
        ["STROBE LIGHTS","STEADY"],
        ["TAXI LIGHTS","ON"],
        ["TRANSPONDER","ALT OFF"],
        ["APU","AS REQ"],
        ["APU GEN","ON"],
        ["TERRAIN & WEATHER DISPLAY","OFF"],
        ["CLOCK","STOP"]
      ]
    },
    {
      section: "PARKING - SHUTDOWN",
      items: [
        ["PARKING BRAKE","SET"],
        ["TAXI LIGHTS","OFF"],
        ["CHOCKS","SET"],
        ["EXTERNAL POWER","CONNECTED AND ON"],
        ["APU","OFF"],
        ["FUEL CONTROL SWITCHES","CUTOFF"],
        ["ANTI COLLISION LIGHTS","OFF"],
        ["FLIGHT DIRECTORS","OFF"],
        ["PASSENGER SIGNS","OFF"],
        ["YAW DUMPER","OFF"],
        ["HYDRAULIC PUMPS","OFF"],
        ["FUEL PUMPS","OFF"],
        ["PROBE HEAT","OFF"],
        ["DOORS","OPEN"]
      ]
    },
    {
      section: "SECURE AIRCRAFT",
      items: [
        ["IRS SELECTOR (L & R)","OFF"],
        ["EMERGENCY LIGHTS","OFF"],
        ["TRIM AIR","OFF"],
        ["RECIRC FAN","OFF"],
        ["PACKS (L & R)","OFF"],
        ["ISOLATION VALVE","OPEN"],
        ["LOGO LIGHTS","OFF"],
        ["POSITION LIGHTS","OFF"],
        ["WINDOWS HEAT","OFF"],
        ["CABIN/UTILITY","OFF"],
        ["IFE PASS SEAT POWER","OFF"],
        ["BATTERY SWITCH","OFF"]
      ]
    }
  ];

  const checklistEl = document.getElementById('checklist');
  const prefix = 'ifly737max8_full_table_';

  function buildChecklist() {
    checklistEl.innerHTML = '';
    checklistData.forEach((section, sIdx) => {
      const h2 = document.createElement('h2');
      h2.textContent = section.section;
      checklistEl.appendChild(h2);
      const table = document.createElement('table');
      section.items.forEach((item,i)=>{
        const tr = document.createElement('tr');
        const tdCheckbox = document.createElement('td');
        const cb = document.createElement('input');
        cb.type='checkbox';
        const key = prefix+sIdx+'_'+i;
        if(localStorage.getItem(key)==='1') cb.checked=true;
        cb.addEventListener('change',()=>{
          if(cb.checked) localStorage.setItem(key,'1');
          else localStorage.removeItem(key);
        });
        tdCheckbox.appendChild(cb);
        const tdItem = document.createElement('td');
        tdItem.textContent=item[0];
        const tdAction = document.createElement('td');
        tdAction.textContent=item[1];
        tr.appendChild(tdCheckbox);
        tr.appendChild(tdItem);
        tr.appendChild(tdAction);
        table.appendChild(tr);
      });
      checklistEl.appendChild(table);
    });
  }

  document.getElementById('resetBtn').addEventListener('click',()=>{
    checklistData.forEach((section,sIdx)=>{
      section.items.forEach((_,i)=>localStorage.removeItem(prefix+sIdx+'_'+i));
    });
    checklistEl.querySelectorAll('input[type="checkbox"]').forEach(cb=>cb.checked=false);
  });

  if(document.readyState!=='loading') buildChecklist();
  else document.addEventListener('DOMContentLoaded',buildChecklist);
})();
</script>
</body>
</html>
